<?xml version="1.0" ?>
<sdf xmlns:xacro="http://www.ros.org/wiki/xacro" version="1.10">
<model name="simple_door">
<pose>0 0 0 0 0 0</pose>
<static>false</static>

<xacro:property name="base_width" value="1" />

<link name="door_base">
  <self_collide>false</self_collide>
  <kinematic>true</kinematic>
  <pose>0 0 0 0 0 0</pose>
  <xacro:macro name="door_base_form">
    <geometry>
      <box><size>4 ${base_width} 2</size></box>
    </geometry>
  </xacro:macro>
  <collision name="door_base_collision">
    <xacro:door_base_form/>
  </collision>
  <visual name="door_base_visual">
    <xacro:door_base_form/>
    <material>
      <script>
          <uri>file://media/materials/scripts/gazebo.material</uri>
          <name>Gazebo/Yellow</name>
      </script>
    </material>
  </visual>
  <inertial>
    <mass>10000</mass>
  </inertial>
</link>

<link name="door">
  <self_collide>false</self_collide>
  <pose>0 -1.15 0 0 0 ${-pi/2}</pose>
  <xacro:macro name="door_form">
    <geometry>
      <box><size>1 0.1 1.8</size></box>
    </geometry>
  </xacro:macro>
  <collision name="door_collision">
    <xacro:door_form/>
  </collision>
  <visual name="door_visual">
    <xacro:door_form/>
    <material>
      <script>
          <uri>file://media/materials/scripts/gazebo.material</uri>
          <name>Gazebo/Red</name>
      </script>
    </material>
  </visual>
</link>

<joint name="door_to_door_base_joint" type="revolute">
  <parent>door_base</parent>
  <child>door</child>
  <pose>-0.5 0 0 0 0 0</pose>
  <axis>
    <xyz>0 0 1</xyz>
    <limit>
      <lower>${-pi/2}</lower>
      <upper>${+pi/2}</upper>
    </limit>
    <dynamics>
      <damping>1.0</damping>
      <friction>1.0</friction>
    </dynamics>
  </axis>
  <physics>
    <ode>
      <cfm_damping>1</cfm_damping>
    </ode>
  </physics>
</joint>

<link name="button">
  <self_collide>false</self_collide>
  <pose>${-2-0.2-(0.25/2)} 0 -0.85 0 0 0</pose>
  <xacro:macro name="button_form">
    <geometry>
      <box><size>0.25 0.25 0.25</size></box>
    </geometry>
  </xacro:macro>
  <collision name="button_collision">
    <xacro:button_form/>
  </collision>
  <visual name="button_visual">
    <xacro:button_form/>
    <material>
      <script>
          <uri>file://media/materials/scripts/gazebo.material</uri>
          <name>Gazebo/Green</name>
      </script>
    </material>
  </visual>
</link>

<joint name="button_to_door_base_joint" type="prismatic">
  <parent>door_base</parent>
  <child>button</child>
  <axis>
    <xyz>1 0 0</xyz>
    <limit>
      <lower>0</lower>
      <upper>0.19</upper>
    </limit>
    <dynamics>
      <damping>10</damping>
      <spring_stiffness>100</spring_stiffness>
      <spring_reference>0</spring_reference>
    </dynamics>
  </axis>
  <physics>
    <ode>
      <cfm_damping>1</cfm_damping>
    </ode>
  </physics>
</joint>

</model>
</sdf>
